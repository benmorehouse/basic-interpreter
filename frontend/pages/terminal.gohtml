<!DOCTYPE html>

<html>
<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<script src="https://kit.fontawesome.com/02e19dad27.js" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/xterm/3.14.5/xterm.min.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/xterm/3.14.5/xterm.min.css"></script>

<style>
.nav-wrapper{
	padding-top:-10px;
	padding-left:10px;
	padding-bottom:70px;
}

.container{
	min-height:800px;
}

.container > p{
	padding:10px;
}

#terminal {
	margin-left:100px;
	margin-right:100px;
	margin-top:100px;
	color: brown;
}
</style>
</head> 
    <body>
	<nav>
		<div class="nav-wrapper blue darken-4">
		<a href="/about" class="brand-logo blue darken-4"><i class="material-icons">computer</i>Basic Interpreter</a>
			<ul id="nav-mobile" class="right hide-on-small-and-down blue darken-4 ">
				<li><a href="/terminal"><i class="material-icons">code</i></a></li>
				<li><a href="/login"><i class="material-icons">fingerprint</i></a></li>
				<li><a href="/github"><i class="fab fa-github"></i></a></li>
			</ul>
		</div>
	</nav>

	<div id="terminal"></div>
  
	<script>
		var term = new Terminal({
			theme: {
				background: '#004671'
			}
		});
		// the color for the font is #54a0cb		
		term.open(document.getElementById('terminal'));

		function runBasicTerminal() {
			if (term._initialized) {
			    return;
			}

			term._initialized = true;

			term.prompt = () => {
			    term.write('\r\n$ ');
			};

			term.writeln('Welcome to your Basic Interpreter Instance!');
			term.writeln('');
			prompt(term);

			term.onKey(e => {
			    const printable = !e.domEvent.altKey && !e.domEvent.altGraphKey && !e.domEvent.ctrlKey && !e.domEvent.metaKey;

			    if (e.domEvent.keyCode === 13) {
				console.log(e.domEvent.keyCode)
				prompt(term);
			    } else if (e.domEvent.keyCode === 8) {
				// Do not delete the prompt
				if (term._core.buffer.x > 2) {
				    term.write('\b \b');
				}
			    } else if (printable) {
				term.write(e.key);
			    }
			});
		}

		function prompt(term) {
			term.write('\r\n$ ');
		}
		runBasicTerminal();
	</script>
    </body>
  </html>
 
